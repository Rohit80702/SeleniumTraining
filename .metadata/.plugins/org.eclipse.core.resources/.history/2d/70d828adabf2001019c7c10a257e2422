package TestCase;

import org.openqa.selenium.By;
import org.openqa.selenium.NoSuchElementException;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.testng.AssertJUnit;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

import Browser.browser;
import Pages.Page1;

public class Test1 extends browser {
    private WebDriver driver;
   
    @BeforeMethod
	public void setUp() throws Exception{ 
 
    	browser.openBrowser();
        driver = browser.driver;
        
        driver.manage().window().maximize();
        driver.get("https://www.smartbazaar.co.uk/");
    }

    @Test
    public void testClosePopup() {
        Page1.closePopup();

        try {
            WebElement popupCloseButton = driver.findElement(By.xpath("//div[@class='brave_popup__close__button']"));
            AssertJUnit.fail("Popup is still visible");
        } catch (NoSuchElementException e) {
        	AssertJUnit.assertTrue(true);
        }
    }

//    @Test
//    public void testSearchForRice() {
//        String searchText = "Rice";
//
//        page1.searchForRice(searchText);
//
//        WebElement searchResult = driver.findElement(By.xpath("//h1[contains(text(),'Search results for')]"));
//        Assertions.assertTrue(searchResult.getText().contains(searchText), "Search results do not contain the search term.");
//    }
    
    @AfterMethod
	public void tearDown() {
        if (driver != null) {
            driver.quit();
        }
    }
}
